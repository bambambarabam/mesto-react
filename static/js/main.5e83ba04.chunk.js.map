{"version":3,"sources":["utils/api.js","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/AddPlacePopup.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/PopupWithConfirm.js","components/ImagePopup.js","components/App.js","serviceWorker.js","index.js","images/logo.svg"],"names":["api","options","this","baseUrl","headers","res","ok","json","Promise","reject","status","fetch","method","then","_response","catch","err","console","error","log","data","body","JSON","stringify","name","about","link","id","user","avatar","authorization","Header","className","src","logo","alt","CurrentUserContext","React","createContext","Card","onCardClick","card","onCardDelete","onCardLike","currentUser","useContext","isOwn","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","onClick","aria-label","type","length","Main","props","onEditAvatar","onEditProfile","onAddPlace","cards","map","item","key","Footer","PopupWithForm","isOpen","onSubmit","noValidate","onClose","title","children","isLoading","button","AddPlacePopup","useState","setName","setLink","e","preventDefault","defaultValue","placeholder","onChange","target","value","minLength","maxLength","required","EditProfilePopup","onUpdateUser","description","setDescription","useEffect","EditAvatarPopup","avatarRef","useRef","current","onUpdateAvatar","ref","PopupWithConfirm","ImagePopup","App","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isImagePopupOpen","setIsImagePopupOpen","isConfirmPopupOpen","setIsConfirmPopupOpen","setIsLoading","selectedCard","setSelectedCard","setCurrentUser","cardDelete","setCardDelete","setCards","closeAllPopups","all","getUserInfo","getInitialCards","initialCards","Provider","changeLikeCardStatus","newCard","newCards","c","editUserInfo","finally","editUserAvatar","addNewCard","deleteCard","filter","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","message","module","exports"],"mappings":"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","file":"static/js/main.5e83ba04.chunk.js","sourcesContent":["class Api {\n  constructor(options) {\n    this.baseUrl = options.baseUrl;\n    this.headers = options.headers;\n  }\n\n  _response(res) {\n    if (res.ok) {\n      return res.json();\n    }\n    return Promise.reject(`error${res.status}`);\n  }\n\n  getInitialCards() {\n    return fetch(`${this.baseUrl}/cards`, {\n      method: 'GET',\n      headers: this.headers\n    })\n      .then(this._response)\n      .catch((err) => {\n        console.error(err)\n      })\n  }\n\n  getUserInfo() {\n    return fetch(`${this.baseUrl}/users/me`, {\n      method: 'GET',\n      headers: this.headers\n    })\n      .then(this._response)\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  editUserInfo(data) {\n    return fetch(`${this.baseUrl}/users/me`, {\n      method: 'PATCH',\n      headers: this.headers,\n      body: JSON.stringify({\n        name: data.name,\n        about: data.about\n      }),\n    })\n      .then(this._response)\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  addNewCard(data) {\n    return fetch(`${this.baseUrl}/cards`, {\n      method: 'POST',\n      headers: this.headers,\n      body: JSON.stringify({\n        name: data.name,\n        link: data.link\n      }),\n    })\n      .then(this._response)\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  deleteCard(id) {\n    return fetch(`${this.baseUrl}/cards/${id}`, {\n      method: 'DELETE',\n      headers: this.headers,\n    })\n      .then(this._response)\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  changeLikeCardStatus(id, status) {\n    return fetch(`${this.baseUrl}/cards/likes/${id}`, {\n      method: `${(status) ? `PUT` : `DELETE`}`,\n      headers: this.headers,\n    })\n      .then(this._response)\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  editUserAvatar(user) {\n    return fetch(`${this.baseUrl}/users/me/avatar`, {\n      method: 'PATCH',\n      headers: this.headers,\n      body: JSON.stringify({\n        avatar: user.avatar\n      })\n    })\n      .then(this._response)\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n}\n\nconst api = new Api({\n  baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-13',\n  headers: {\n    authorization: 'b39e5495-8618-4848-8d04-1de0d78a2b88',\n    'Content-Type': 'application/json'\n  }\n});\n\nexport default api;\n","import React from 'react';\nimport logo from '../images/logo.svg';\n\nfunction Header() {\n  return (\n    <header className=\"header\">\n      <img\n        src={logo}\n        className=\"header__logo\"\n        alt=\"Логотип.\"\n      />\n    </header>\n  );\n}\n\nexport default Header;\n","import React from 'react';\n\nexport const CurrentUserContext = React.createContext();\n","import React from 'react';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction Card({ onCardClick, card, onCardDelete, onCardLike }) {\n  const currentUser = React.useContext(CurrentUserContext);\n\n  const isOwn = card.owner._id === currentUser._id;\n  const cardDeleteButtonClassName = (\n    `${isOwn ? 'element__del' : 'element__del_hidden'}`\n  );\n\n  const isLiked = card.likes.some(i => i._id === currentUser._id);\n  const cardLikeButtonClassName = (`element__fav ${isLiked ? 'element__fav_active' : ''}`);\n\n  function handleClick() {\n    onCardClick(card);\n  }\n\n  function handleLikeClick() {\n    onCardLike(card);\n  }\n\n  function handleDeleteClick() {\n    onCardDelete(card);\n  }\n\n  return (\n    <div className=\"element\">\n      <img\n        className=\"element__img element__img_add element__img_preview\"\n        src={card.link}\n        alt={`${card.name}`}\n        onClick={handleClick}\n      />\n      <button\n        className={cardDeleteButtonClassName}\n        aria-label=\"Удалить\"\n        type=\"button\"\n        onClick={handleDeleteClick}\n      />\n      <h2 className=\"element__header element__header_add\">{card.name}</h2>\n      <div className=\"element__fav-container\">\n        <button\n          className={cardLikeButtonClassName}\n          aria-label=\"В избранное\"\n          type=\"button\"\n          onClick={handleLikeClick}\n        />\n        <p className=\"element__fav-count\">{card.likes.length}</p>\n      </div>\n    </div>\n  )\n}\n\nexport default Card;\n","import React from 'react';\nimport Card from './Card';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction Main(props) {\n  const currentUser = React.useContext(CurrentUserContext);\n\n  return (\n    <main className=\"content\">\n      <section className=\"profile\">\n        <div className=\"profile__avatar-container\">\n          <img\n            className=\"profile__avatar\"\n            src={currentUser.avatar}\n            alt=\"Аватар.\"\n          />\n          <div\n            className=\"profile__avatar-edit\"\n            onClick={props.onEditAvatar}\n          />\n        </div>\n        <div className=\"profile__info\">\n          <div className=\"profile__name\">\n            <h1 className=\"profile__title\">{currentUser.name}</h1>\n            <button\n              className=\"profile__edit\"\n              onClick={props.onEditProfile}\n              aria-label=\"Редактировать\"\n              type=\"button\"\n            />\n          </div>\n          <p className=\"profile__subtitle\">{currentUser.about}</p>\n        </div>\n        <button\n          className=\"profile__button\"\n          onClick={props.onAddPlace}\n          aria-label=\"Добавить\"\n          type=\"button\">+</button>\n      </section>\n\n      <section className=\"elements\">\n        {props.cards.map((item) =>\n          <Card\n            key={item._id}\n            card={item}\n            onCardClick={props.onCardClick}\n            onCardLike={props.onCardLike}\n            onCardDelete={props.onCardDelete}\n          />\n        )}\n      </section>\n    </main>\n  )\n}\n\nexport default Main;\n","import React from 'react';\n\nfunction Footer() {\n  return (\n    <footer className=\"footer\">\n      <p className=\"footer__copyright\">&copy; 2020 Mesto Russia</p>\n    </footer>\n  )\n}\n\nexport default Footer;\n","import React from 'react';\n\nfunction PopupWithForm(props) {\n  return (\n    <section\n      className={`popup popup_${props.name} ${props.isOpen && \"popup_opened\"}`}>\n      <form\n        className={`popup__form popup__form_${props.name}`}\n        name={props.name}\n        onSubmit={props.onSubmit}\n        noValidate>\n        <button\n          className=\"popup__close\"\n          type=\"button\"\n          onClick={props.onClose}\n        />\n        <h2\n          className=\"popup__name\">{props.title}\n        </h2>\n        {props.children}\n        <button\n          className={`popup__button popup__button_${props.name}`}\n          type=\"submit\">{props.isLoading ? 'Сохранение 🕒' : props.button}\n        </button>\n      </form>\n    </section>\n  );\n}\n\nexport default PopupWithForm;\n","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nfunction AddPlacePopup(props) {\n  const [name, setName] = React.useState('');\n  const [link, setLink] = React.useState('');\n\n  function handleName(e) {\n    setName(e.target.value);\n  }\n\n  function handleLink(e) {\n    setLink(e.target.value);\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    props.onAddPlace({\n      name: name,\n      link: link\n    })\n  }\n\n  return (\n    <PopupWithForm\n      title=\"Новое место\"\n      name=\"add\"\n      button=\"Создать\"\n      isOpen={props.isOpen}\n      onClose={props.onClose}\n      isLoading={props.isLoading}\n      onSubmit={handleSubmit}>\n      <input\n        type=\"text\"\n        defaultValue=\"\"\n        placeholder=\"Название\"\n        onChange={handleName}\n        className=\"popup__input\"\n        name=\"placename\"\n        minLength=\"1\"\n        maxLength=\"30\"\n        id=\"placename\"\n        required\n      />\n      <span\n        className=\"popup__error\"\n        id=\"placename-error\"\n      />\n\n      <input\n        type=\"url\"\n        defaultValue=\"\"\n        placeholder=\"Ссылка на картинку\"\n        onChange={handleLink}\n        className=\"popup__input\"\n        name=\"link\"\n        id=\"link\"\n        required\n      />\n      <span\n        className=\"popup__error\"\n        id=\"link-error\"\n      />\n    </PopupWithForm>\n  );\n}\n\nexport default AddPlacePopup;\n","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction EditProfilePopup({onUpdateUser, isOpen, onClose, isLoading}) {\n  const currentUser = React.useContext(CurrentUserContext);\n  const [name, setName] = React.useState('');\n  const [description, setDescription] = React.useState('');\n\n  React.useEffect(() => {\n    setName(currentUser.name);\n    setDescription(currentUser.about);\n  }, [currentUser]);\n\n  function handleName(e) {\n    setName(e.target.value);\n  }\n\n  function handleDescription(e) {\n    setDescription(e.target.value);\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    onUpdateUser({\n      name,\n      about: description\n    });\n  }\n\n  return (\n    <PopupWithForm\n      title=\"Редактировать профиль\"\n      name=\"profile\"\n      button=\"Сохранить\"\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n      isLoading={isLoading}>\n\n      <input\n        type=\"text\"\n        placeholder=\"Ваше имя\"\n        onChange={handleName}\n        value={name}\n        className=\"popup__input\"\n        name=\"name\"\n        minLength=\"2\"\n        maxLength=\"40\"\n        id=\"name\"\n        required\n      />\n      <span\n        className=\"popup__error\"\n        id=\"name-error\"\n      />\n\n      <input\n        type=\"text\"\n        placeholder=\"Ваше занятие\"\n        value={description}\n        onChange={handleDescription}\n        className=\"popup__input\"\n        name=\"job\"\n        required\n        minLength=\"2\"\n        maxLength=\"200\"\n        id=\"job\"\n      />\n      <span\n        className=\"popup__error\"\n        id=\"job-error\"\n      />\n    </PopupWithForm>\n  );\n}\n\nexport default EditProfilePopup;\n","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction EditAvatarPopup(props) {\n  const currentUser = React.useContext(CurrentUserContext);\n  const avatarRef = React.useRef();\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    props.onUpdateAvatar({\n      avatar: avatarRef.current.value\n    });\n  }\n\n  React.useEffect(() => {\n    avatarRef.current.value = '';\n  }, [currentUser]);\n\n  return (\n    <PopupWithForm\n      title=\"Обновить аватар\"\n      name=\"avatar\"\n      button=\"Создать\"\n      isOpen={props.isOpen}\n      onClose={props.onClose}\n      onSubmit={handleSubmit}\n      isLoading={props.isLoading}>\n      <input\n        type=\"url\"\n        className=\"popup__input\"\n        ref={avatarRef}\n        placeholder=\"Ссылка на картинку\"\n        name=\"link\"\n        id=\"link\"\n        required\n      />\n      <span\n        className=\"popup__error\"\n        id=\"link-error\"\n      />\n    </PopupWithForm>\n  );\n}\n\nexport default EditAvatarPopup;\n","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nfunction PopupWithConfirm({ isOpen, onClose, onSubmit }) {\n  function handleSubmit(e) {\n    e.preventDefault();\n    onSubmit();\n  }\n  return (\n    <PopupWithForm\n      title=\"Вы уверены?\"\n      name=\"confirm\"\n      button=\"Да\"\n      isOpen={isOpen}\n      onSubmit={handleSubmit}\n      onClose={onClose}\n    />\n  );\n}\n\nexport default PopupWithConfirm;\n","import React from 'react';\n\nfunction ImagePopup({ isOpen, onClose, card }) {\n  return (\n    <section className={`popup popup_preview ${isOpen && \"popup_opened\"}`}>\n      <figure className=\"popup__figure\">\n        <button\n          className=\"popup__close popup__close_preview\"\n          aria-label=\"Закрыть\"\n          type=\"button\"\n          onClick={onClose}\n        />\n        <img className=\"popup__image\"\n          src={card.link}\n          alt={`${card.name}`}\n        />\n        <figcaption className=\"popup__subtitle\">{card.name}</figcaption>\n      </figure>\n    </section>\n  )\n}\n\nexport default ImagePopup;\n","import React from 'react';\nimport api from '../utils/api';\nimport Header from './Header';\nimport Main from './Main';\nimport Footer from './Footer';\nimport AddPlacePopup from './AddPlacePopup';\nimport EditProfilePopup from './EditProfilePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport PopupWithConfirm from './PopupWithConfirm';\nimport ImagePopup from './ImagePopup';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction App() {\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false)\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false);\n  const [isImagePopupOpen, setIsImagePopupOpen] = React.useState(false);\n  const [isConfirmPopupOpen, setIsConfirmPopupOpen] = React.useState(false);\n  const [isLoading, setIsLoading] = React.useState(false);\n  const [selectedCard, setSelectedCard] = React.useState();\n  const [currentUser, setCurrentUser] = React.useState({ name: '', about: '', avatar: '' });\n  const [cardDelete, setCardDelete] = React.useState([]);\n  const [cards, setCards] = React.useState([]);\n\n  React.useEffect(() => {\n    Promise.all([\n      api.getUserInfo(),\n      api.getInitialCards()\n    ])\n      .then(([user, initialCards]) => {\n        setCards(initialCards);\n        setCurrentUser(user);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }, [cards]);\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\n    api.changeLikeCardStatus(card._id, !isLiked)\n      .then((newCard) => {\n        const newCards = cards.map((c) => c._id === card._id ? newCard : c);\n        setCards(newCards);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  function handleCardDeleteSubmit() {\n    api.deleteCard(cardDelete._id)\n      .then(() => {\n        const newCards = cards.filter((i) => i._id !== cardDelete._id);\n        setCards(newCards);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  function handleUpdateUser(user) {\n    setIsLoading(true);\n    api.editUserInfo(user)\n      .then((res) => {\n        setCurrentUser(res);\n      })\n      .catch((err) => {\n        console.log(err);\n      })\n      .finally(() => {\n        closeAllPopups();\n        setIsLoading(false)\n      });\n  }\n\n  function handleUpdateAvatar(user) {\n    setIsLoading(true);\n    api.editUserAvatar(user)\n      .then((res) => {\n        setCurrentUser(res);\n      })\n      .catch((err) => {\n        console.log(err);\n      })\n      .finally(() => {\n        closeAllPopups();\n        setIsLoading(false)\n      });\n  }\n\n  function handleAddPlaceSubmit(card) {\n    setIsLoading(true);\n    api.addNewCard(card)\n      .then((res) => {\n        setCards([...cards, res]);\n      })\n      .catch((err) => {\n        console.log(err);\n      })\n      .finally(() => {\n        closeAllPopups();\n        setIsLoading(false);\n      });\n  }\n\n  function handleEditProfileClick() {\n    setIsEditProfilePopupOpen(true);\n  }\n\n  function handleAddPlaceClick() {\n    setIsAddPlacePopupOpen(true);\n  }\n\n  function handleEditAvatarClick() {\n    setIsEditAvatarPopupOpen(true);\n  }\n\n  function handleConfirmPopupClick() {\n    setIsConfirmPopupOpen(true);\n  }\n\n  function handleCardClick(card) {\n    setSelectedCard(true);\n    setIsImagePopupOpen(card);\n  }\n\n  function handleCardDelete(card) {\n    setCardDelete(card)\n    handleConfirmPopupClick();\n  }\n\n  function closeAllPopups() {\n    setIsEditProfilePopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setIsEditAvatarPopupOpen(false);\n    setIsConfirmPopupOpen(false);\n    setSelectedCard(false);\n  }\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <div className=\"page\">\n        <Header />\n        <Main\n          onEditProfile={handleEditProfileClick}\n          onAddPlace={handleAddPlaceClick}\n          onEditAvatar={handleEditAvatarClick}\n          cards={cards}\n          onCardClick={handleCardClick}\n          onCardLike={handleCardLike}\n          onCardDelete={handleCardDelete}\n        />\n        <EditProfilePopup\n          isOpen={isEditProfilePopupOpen}\n          onClose={closeAllPopups}\n          onUpdateUser={handleUpdateUser}\n          isLoading={isLoading}\n        />\n        <EditAvatarPopup\n          isOpen={isEditAvatarPopupOpen}\n          onClose={closeAllPopups}\n          onUpdateAvatar={handleUpdateAvatar}\n          isLoading={isLoading}\n        />\n        <AddPlacePopup\n          isOpen={isAddPlacePopupOpen}\n          onClose={closeAllPopups}\n          onAddPlace={handleAddPlaceSubmit}\n          isLoading={isLoading}\n        />\n        <ImagePopup\n          isOpen={selectedCard}\n          card={isImagePopupOpen}\n          onClose={closeAllPopups}\n        />\n        <PopupWithConfirm\n          isOpen={isConfirmPopupOpen}\n          onClose={closeAllPopups}\n          onSubmit={handleCardDeleteSubmit}\n        />\n        <Footer />\n      </div>\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","module.exports = __webpack_public_path__ + \"static/media/logo.c6f11019.svg\";"],"sourceRoot":""}